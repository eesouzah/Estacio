<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordenando JS</title>
    <script src="ordenando.js" defer></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Ordenando Valores</h1>
        <input type="number" id="valor1" placeholder="Digite um número">
        <button onclick="add(1)">Adicionar</button>
        <select id="algoritmo1">
            <option value="0" selected>Bubble Sort</option>
            <option value="1">Selection Sort</option>
            <option value="2">Quick Sort</option>
        </select>
        <button onclick="ordenar(1)">Ordenar</button>
        <button onclick="misturar(1)">Misturar</button>
        <ul id="valores1"></ul>
    </div>

    <div class="container">
        <h1>Ordenando Valores</h1>
        <input type="number" id="valor2" placeholder="Digite um número">
        <button onclick="add(2)">Adicionar</button>
        <select id="algoritmo2">
            <option value="0" selected>Bubble Sort</option>
            <option value="1">Selection Sort</option>
            <option value="2">Quick Sort</option>
        </select>
        <button onclick="ordenar(2)">Ordenar</button>
        <button onclick="misturar(2)">Misturar</button>
        <ul id="valores2"></ul>
    </div>

    <script>
        function add(id) {
            let input = document.getElementById(`valor${id}`);
            let lista = document.getElementById(`valores${id}`);
            let node = document.createElement("li");
            let texto = document.createTextNode(input.value);
            node.appendChild(texto);
            lista.appendChild(node);
            input.value = "";
        }

        function ordenar(id) {
            let lista = document.getElementById(`valores${id}`);
            let select = document.getElementById(`algoritmo${id}`);
            let vetor = [];
            for (let child of lista.children) {
                let conteudo = eval(child.innerHTML);
                vetor.push(conteudo);
            }

            let selectedIndex = select.selectedIndex;
            if (selectedIndex == 0) {
                bubble_sort(vetor);
            } else if (selectedIndex === 1) {
                selection_sort(vetor);
            } else if (selectedIndex === 2) {
                vetor = quick_sort(vetor);
            }

            let novoHTML = vetor
                .map(num => `<li>${num}</li>`)
                .reduce((acc, li) => acc + li, "");
            lista.innerHTML = novoHTML;
        }

        function misturar(id) {
            let lista = document.getElementById(`valores${id}`);
            let vetor = [];
            for (let child of lista.children) {
                let conteudo = eval(child.innerHTML);
                vetor.push(conteudo);
            }

            shuffle(vetor, vetor.length);

            let novoHTML = vetor
                .map(num => `<li>${num}</li>`)
                .reduce((acc, li) => acc + li, "");
            lista.innerHTML = novoHTML;
        }
    </script>
</body>

</html>